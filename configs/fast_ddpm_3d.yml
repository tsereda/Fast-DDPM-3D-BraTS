data:
    dataset: "BraTS3D"
    volume_size: [80, 80, 80]
    channels: 1
    num_workers: 4

model:
    type: "unified_4to4"  # Keep name for compatibility, but actually 4â†’1
    in_channels: 4        # Input: all 4 modalities
    out_ch: 1            # Output: single target modality (FIXED)
    ch: 64               # Reduced for 3D memory constraints
    ch_mult: [1, 2, 4]   # Reduced depth for 3D
    num_res_blocks: 2
    attn_resolutions: [20]  # Adjusted for 80x80x80 volumes
    dropout: 0.1
    var_type: fixedsmall
    ema_rate: 0.9999
    ema: True
    resamp_with_conv: True

diffusion:
    beta_schedule: linear
    beta_start: 0.0001
    beta_end: 0.02
    num_diffusion_timesteps: 1000

training:
    batch_size: 1        # Small batch size for 3D
    epochs: 1000
    learning_rate: 0.0001
    weight_decay: 0.0
    gradient_clip: 1.0
    save_every: 1000
    validate_every: 500
    log_every_n_steps: 50

optim:
    weight_decay: 0.0
    optimizer: "Adam"
    lr: 0.0001
    beta1: 0.9
    amsgrad: false
    eps: 0.00000001